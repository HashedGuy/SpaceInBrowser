{"ast":null,"code":"import _slicedToArray from\"/Users/arbus/Documents/SpaceInBrowser/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useFrame,useLoader,extend}from'@react-three/fiber';import React,{useRef}from'react';import*as THREE from'three';import{TextGeometry}from'three/examples/jsm/geometries/TextGeometry';import Font from\"../assets/fontMedium.json\";import{FontLoader}from'three/examples/jsm/loaders/FontLoader';import{TextureLoader}from'three';import MoonMap from\"../assets/2k_moon.jpeg\";import{useRecoilState,useRecoilValue}from'recoil';import{clickedCBState,showActions}from'./globalState';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";extend({TextGeometry:TextGeometry});function Ecliptic(_ref){var _ref$xRadius=_ref.xRadius,xRadius=_ref$xRadius===void 0?1:_ref$xRadius,_ref$zRadius=_ref.zRadius,zRadius=_ref$zRadius===void 0?1:_ref$zRadius,_ref$yRadius=_ref.yRadius,yRadius=_ref$yRadius===void 0?1:_ref$yRadius;var activeObject=useRecoilValue(clickedCBState);var points=[];for(var index=0;index<64;index++){var angle=index/64*2*Math.PI;var x=xRadius*Math.cos(angle);var z=zRadius*Math.sin(angle);points.push(new THREE.Vector3(x,0,z));}points.push(points[0]);var lineGeometry=new THREE.BufferGeometry().setFromPoints(points);return/*#__PURE__*/_jsx(\"line\",{geometry:lineGeometry,children:/*#__PURE__*/_jsx(\"lineBasicMaterial\",{attach:\"material\",color:activeObject===''?\"black\":\"gray\",linewidth:.1})});}export function Moon(props){var _useLoader=useLoader(TextureLoader,[MoonMap]),_useLoader2=_slicedToArray(_useLoader,1),moonMap=_useLoader2[0];var _useRecoilState=useRecoilState(clickedCBState),_useRecoilState2=_slicedToArray(_useRecoilState,2),activeObject=_useRecoilState2[0],setObject=_useRecoilState2[1];var moonRef=useRef();var zRadius;var xRadius;var yRadius;activeObject===''?xRadius=5.5:activeObject==='earth'?xRadius=6:activeObject==='mars'?xRadius=-3:xRadius=0;activeObject===''?zRadius=4.5:activeObject==='earth'?zRadius=5.5:activeObject==='mars'?zRadius=0:zRadius=-0;activeObject===''?yRadius=0:activeObject==='earth'?yRadius=0:yRadius=0;useFrame(function(_ref2){var clock=_ref2.clock;var elapsedTime;activeObject==='mars'?elapsedTime=clock.getElapsedTime()*0:elapsedTime=clock.getElapsedTime()*0.006;var x=xRadius*Math.sin(elapsedTime);var z=zRadius*Math.cos(elapsedTime);var y=yRadius*Math.cos(elapsedTime);moonRef.current.position.x=x;moonRef.current.position.z=z;moonRef.current.position.y=y;});var showAction=useRecoilValue(showActions);function calcPosFromLatLngRad(lat,lng){var phi=(90-lat)*(Math.PI/180);var theta=(lng+180)*(Math.PI/180);var x=-(Math.sin(phi)*Math.cos(theta))*2.5;var z=Math.sin(phi)*Math.sin(theta)*2.5;var y=Math.cos(phi)*2.5;return{x:x,y:y,z:z};}var font=new FontLoader().parse(Font);var textOptions={font:font,size:.06,height:.009};var pointApollo11={lat:0.67345,lng:23.47307};var pointApollo12={lat:-3.0098,lng:-23.4249};var pointApollo14={lat:-3.64417,lng:-17.47865};var pointApollo15={lat:26.13341,lng:3.62850};var pointApollo16={lat:-8.9759,lng:15.4986};var pointApollo17={lat:20.1923,lng:30.7655};var pointArtemis3={lat:-65.1923,lng:15.7655};var posApollo11=calcPosFromLatLngRad(pointApollo11.lat,pointApollo11.lng);var posApollo12=calcPosFromLatLngRad(pointApollo12.lat,pointApollo12.lng);var posApollo14=calcPosFromLatLngRad(pointApollo14.lat,pointApollo14.lng);var posApollo15=calcPosFromLatLngRad(pointApollo15.lat,pointApollo15.lng);var posApollo16=calcPosFromLatLngRad(pointApollo16.lat,pointApollo16.lng);var posApollo17=calcPosFromLatLngRad(pointApollo17.lat,pointApollo17.lng);var posArtemis3=calcPosFromLatLngRad(pointArtemis3.lat,pointArtemis3.lng);var sphere=function sphere(x){return new THREE.SphereGeometry(x,36,36);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"mesh\",{ref:moonRef,geometry:sphere(0.25),scale:activeObject===''?1:activeObject==='earth'?1.3:activeObject==='mars'?.1:activeObject==='LEO'?0:10,onDoubleClick:function onDoubleClick(){return setObject('moon');},children:/*#__PURE__*/_jsx(\"meshPhongMaterial\",{map:moonMap,opacity:1,depthWrite:true,transparent:false,side:THREE.DoubleSide})}),/*#__PURE__*/_jsx(\"mesh\",{geometry:showAction==='apollo11'?sphere(0.03):sphere(0),position:[posApollo11.x,posApollo11.y,posApollo11.z],children:/*#__PURE__*/_jsx(\"meshBasicMaterial\",{color:0xff0000})}),/*#__PURE__*/_jsxs(\"mesh\",{position:[posApollo11.x,posApollo11.y,posApollo11.z],children:[/*#__PURE__*/_jsx(\"textGeometry\",{attach:\"geometry\",args:showAction==='apollo11'?['   <-- Apollo 11',textOptions]:['',textOptions]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{attach:\"material\",color:'white'})]}),/*#__PURE__*/_jsx(\"mesh\",{geometry:showAction==='apollo12'?sphere(0.03):sphere(0),position:[posApollo12.x,posApollo12.y,posApollo12.z],children:/*#__PURE__*/_jsx(\"meshBasicMaterial\",{color:0xff0000})}),/*#__PURE__*/_jsxs(\"mesh\",{position:[posApollo12.x,posApollo12.y,posApollo12.z],children:[/*#__PURE__*/_jsx(\"textGeometry\",{attach:\"geometry\",args:showAction==='apollo12'?['   <-- Apollo 12',textOptions]:['',textOptions]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{attach:\"material\",color:'white'})]}),/*#__PURE__*/_jsx(\"mesh\",{geometry:showAction==='apollo14'?sphere(0.03):sphere(0),position:[posApollo14.x,posApollo14.y,posApollo14.z],children:/*#__PURE__*/_jsx(\"meshBasicMaterial\",{color:0xff0000})}),/*#__PURE__*/_jsxs(\"mesh\",{position:[posApollo14.x,posApollo14.y,posApollo14.z],children:[/*#__PURE__*/_jsx(\"textGeometry\",{attach:\"geometry\",args:showAction==='apollo14'?['   <-- Apollo 14',textOptions]:['',textOptions]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{attach:\"material\",color:'white'})]}),/*#__PURE__*/_jsx(\"mesh\",{geometry:showAction==='apollo15'?sphere(0.03):sphere(0),position:[posApollo15.x,posApollo15.y,posApollo15.z],children:/*#__PURE__*/_jsx(\"meshBasicMaterial\",{color:0xff0000})}),/*#__PURE__*/_jsxs(\"mesh\",{position:[posApollo15.x,posApollo15.y,posApollo15.z],children:[/*#__PURE__*/_jsx(\"textGeometry\",{attach:\"geometry\",args:showAction==='apollo15'?['   <-- Apollo 15',textOptions]:['',textOptions]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{attach:\"material\",color:'white'})]}),/*#__PURE__*/_jsx(\"mesh\",{geometry:showAction==='apollo16'?sphere(0.03):sphere(0),position:[posApollo16.x,posApollo16.y,posApollo16.z],children:/*#__PURE__*/_jsx(\"meshBasicMaterial\",{color:0xff0000})}),/*#__PURE__*/_jsxs(\"mesh\",{position:[posApollo16.x,posApollo16.y,posApollo16.z],children:[/*#__PURE__*/_jsx(\"textGeometry\",{attach:\"geometry\",args:showAction==='apollo16'?['   <-- Apollo 16',textOptions]:['',textOptions]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{attach:\"material\",color:'white'})]}),/*#__PURE__*/_jsx(\"mesh\",{geometry:showAction==='apollo17'?sphere(0.03):sphere(0),position:[posApollo17.x,posApollo17.y,posApollo17.z],children:/*#__PURE__*/_jsx(\"meshBasicMaterial\",{color:0xff0000})}),/*#__PURE__*/_jsxs(\"mesh\",{position:[posApollo17.x,posApollo17.y,posApollo17.z],children:[/*#__PURE__*/_jsx(\"textGeometry\",{attach:\"geometry\",args:showAction==='apollo17'?['   <-- Apollo 17',textOptions]:['',textOptions]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{attach:\"material\",color:'white'})]}),/*#__PURE__*/_jsx(\"mesh\",{geometry:showAction==='artemis'?sphere(0.03):sphere(0),position:[posArtemis3.x,posArtemis3.y,posArtemis3.z],children:/*#__PURE__*/_jsx(\"meshBasicMaterial\",{color:0x00ff00})}),/*#__PURE__*/_jsxs(\"mesh\",{position:[posArtemis3.x,posArtemis3.y,posArtemis3.z],children:[/*#__PURE__*/_jsx(\"textGeometry\",{attach:\"geometry\",args:showAction==='artemis'?['   <-- Artemis 3',textOptions]:['',textOptions]}),/*#__PURE__*/_jsx(\"meshStandardMaterial\",{attach:\"material\",color:'white'})]}),activeObject==='mars'?'':/*#__PURE__*/_jsx(Ecliptic,{xRadius:xRadius,zRadius:zRadius})]});}export default Moon;","map":{"version":3,"sources":["/Users/arbus/Documents/SpaceInBrowser/src/components/Moon.js"],"names":["useFrame","useLoader","extend","React","useRef","THREE","TextGeometry","Font","FontLoader","TextureLoader","MoonMap","useRecoilState","useRecoilValue","clickedCBState","showActions","Ecliptic","xRadius","zRadius","yRadius","activeObject","points","index","angle","Math","PI","x","cos","z","sin","push","Vector3","lineGeometry","BufferGeometry","setFromPoints","Moon","props","moonMap","setObject","moonRef","clock","elapsedTime","getElapsedTime","y","current","position","showAction","calcPosFromLatLngRad","lat","lng","phi","theta","font","parse","textOptions","size","height","pointApollo11","pointApollo12","pointApollo14","pointApollo15","pointApollo16","pointApollo17","pointArtemis3","posApollo11","posApollo12","posApollo14","posApollo15","posApollo16","posApollo17","posArtemis3","sphere","SphereGeometry","DoubleSide"],"mappings":"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","sourcesContent":["import { useFrame, useLoader,  extend } from '@react-three/fiber';\nimport React, {useRef} from 'react';\nimport * as THREE from 'three'\nimport { TextGeometry } from 'three/examples/jsm/geometries/TextGeometry'\nimport Font from \"../assets/fontMedium.json\"\nimport { FontLoader } from 'three/examples/jsm/loaders/FontLoader'\n\nimport { TextureLoader } from 'three';\nimport MoonMap from \"../assets/2k_moon.jpeg\"\nimport { useRecoilState, useRecoilValue } from 'recoil';\nimport { clickedCBState, showActions } from './globalState';\n\nextend({ TextGeometry })\n\nfunction Ecliptic({ xRadius = 1, zRadius = 1, yRadius = 1 }) {\n  const activeObject = useRecoilValue(clickedCBState)\n  const points = [];\n  for (let index = 0; index < 64; index++) {\n    const angle = (index / 64) * 2 * Math.PI;\n    const x = xRadius * Math.cos(angle);\n    const z = zRadius * Math.sin(angle);\n    points.push(new THREE.Vector3(x, 0, z));\n  }points.push(points[0]);const lineGeometry = new THREE.BufferGeometry().setFromPoints(points);\n  return (\n    <line geometry={lineGeometry}>\n      <lineBasicMaterial attach=\"material\" color={activeObject===''?\"black\":\"gray\"} linewidth={.1} />\n    </line>\n  );\n}\n\nexport function Moon(props) {\n  const [moonMap] = useLoader(\n    TextureLoader,\n    [MoonMap]\n  );\n\n  const [activeObject, setObject] = useRecoilState(clickedCBState)\n\n  const moonRef = useRef()\n  let zRadius\n  let xRadius\n  let yRadius\n  activeObject === '' ? (xRadius=5.5) \n    : activeObject === 'earth' ? (xRadius=6)\n    : activeObject === 'mars' ? (xRadius=-3)\n    : (xRadius=0)\n  activeObject === '' ? (zRadius=4.5) \n    : activeObject === 'earth' ? (zRadius=5.5)\n    : activeObject === 'mars' ? (zRadius=0) \n    : (zRadius=-0)\n  activeObject === '' ? (yRadius=0) \n    : activeObject === 'earth' ? (yRadius=0) \n    : (yRadius=0)\n\n\n  useFrame(({ clock }) => {\n    let elapsedTime\n    activeObject === 'mars'?\n    (elapsedTime = clock.getElapsedTime() * 0) \n    : (elapsedTime = clock.getElapsedTime() * 0.006)\n    \n    const x = xRadius* Math.sin(elapsedTime)\n    const z = zRadius* Math.cos(elapsedTime)\n    const y = yRadius* Math.cos(elapsedTime)\n    moonRef.current.position.x = x;\n    moonRef.current.position.z = z;\n    moonRef.current.position.y = y;\n  });\n\n  const showAction = useRecoilValue(showActions)\n\n\n\n  function calcPosFromLatLngRad(lat, lng) {\n    var phi = (90 - lat)*(Math.PI/180)\n    var theta = (lng+180)*(Math.PI/180)\n    let x = -(Math.sin(phi)*Math.cos(theta))*2.5\n    let z = (Math.sin(phi)*Math.sin(theta)) *2.5\n    let y = (Math.cos(phi))*2.5\n    return {x, y, z}\n  }\n\n  const font = new FontLoader().parse(Font);\n\n  const textOptions = {\n    font,\n    size: .06,\n    height: .009\n  };\n\n  let pointApollo11 = {\n    lat:0.67345,\n    lng:\t23.47307\n  }\n\n  let pointApollo12 = {\n    lat:-3.0098,\n    lng:\t-23.4249\n  }\n\n  let pointApollo14 = {\n    lat:-3.64417,\n    lng:\t-17.47865\n  }\n\n  let pointApollo15 = {\n    lat:26.13341,\n    lng:\t3.62850\n  }\n\n  let pointApollo16 = {\n    lat:-8.9759,\n    lng:\t15.4986\n  }\n\n  let pointApollo17 = {\n    lat:20.1923,\n    lng:\t30.7655\n  }\n\n  let pointArtemis3 = {\n    lat:-65.1923,\n    lng:\t15.7655\n  }\n\n  let posApollo11 = calcPosFromLatLngRad(pointApollo11.lat, pointApollo11.lng)\n  let posApollo12 = calcPosFromLatLngRad(pointApollo12.lat, pointApollo12.lng)\n  let posApollo14 = calcPosFromLatLngRad(pointApollo14.lat, pointApollo14.lng)\n  let posApollo15 = calcPosFromLatLngRad(pointApollo15.lat, pointApollo15.lng)\n  let posApollo16 = calcPosFromLatLngRad(pointApollo16.lat, pointApollo16.lng)\n  let posApollo17 = calcPosFromLatLngRad(pointApollo17.lat, pointApollo17.lng)\n  let posArtemis3 = calcPosFromLatLngRad(pointArtemis3.lat, pointArtemis3.lng)\n\n  const sphere = (x) => new THREE.SphereGeometry(x, 36, 36)\n\n  return (\n    <>\n      <mesh \n        ref={moonRef}\n        geometry={sphere(0.25)}\n        scale={\n          activeObject === '' ? 1 \n          :\n          activeObject === 'earth' ? 1.3 \n          :\n          activeObject === 'mars' ? .1\n          :\n          activeObject === 'LEO' ? 0\n          : 10\n        }\n        onDoubleClick={()=>setObject('moon')}\n        \n      >\n        <meshPhongMaterial\n          map={moonMap}\n          opacity={1}\n          depthWrite={true}\n          transparent={false}\n          side={THREE.DoubleSide}\n        />       \n      </mesh>\n\n      <mesh\n        geometry={showAction==='apollo11' ? sphere(0.03) : sphere(0)}\n        position={[posApollo11.x,posApollo11.y,posApollo11.z]}\n      >\n        <meshBasicMaterial color={0xff0000}/>\n      </mesh>\n\n      <mesh\n        position={[posApollo11.x,posApollo11.y,posApollo11.z]}\n      >\n        <textGeometry attach='geometry' args={showAction==='apollo11' ? ['   <-- Apollo 11', textOptions] : ['', textOptions]}  />\n        <meshStandardMaterial attach='material' color={'white'} />\n      </mesh>\n\n      <mesh\n        geometry={showAction==='apollo12' ? sphere(0.03) : sphere(0)}\n        position={[posApollo12.x,posApollo12.y,posApollo12.z]}\n      >\n        <meshBasicMaterial color={0xff0000}/>\n      </mesh>\n\n      <mesh\n        position={[posApollo12.x,posApollo12.y,posApollo12.z]}\n      >\n        <textGeometry attach='geometry' args={showAction==='apollo12' ? ['   <-- Apollo 12', textOptions] : ['', textOptions]} />\n        <meshStandardMaterial attach='material' color={'white'} />\n      </mesh>\n\n      <mesh\n        geometry={showAction==='apollo14' ? sphere(0.03) : sphere(0)}\n        position={[posApollo14.x,posApollo14.y,posApollo14.z]}\n      >\n        <meshBasicMaterial color={0xff0000}/>\n      </mesh>\n\n      <mesh\n        position={[posApollo14.x,posApollo14.y,posApollo14.z]}\n      >\n        <textGeometry attach='geometry' args={showAction==='apollo14' ? ['   <-- Apollo 14', textOptions] : ['', textOptions]}  />\n        <meshStandardMaterial attach='material' color={'white'} />\n      </mesh>\n\n      <mesh\n        geometry={showAction==='apollo15' ? sphere(0.03) : sphere(0)}\n        position={[posApollo15.x,posApollo15.y,posApollo15.z]}\n      >\n        <meshBasicMaterial color={0xff0000}/>\n      </mesh>\n\n      <mesh\n        position={[posApollo15.x,posApollo15.y,posApollo15.z]}\n      >\n        <textGeometry attach='geometry' args={showAction==='apollo15' ? ['   <-- Apollo 15', textOptions] : ['', textOptions]}  />\n        <meshStandardMaterial attach='material' color={'white'} />\n      </mesh>\n\n      <mesh\n        geometry={showAction==='apollo16' ? sphere(0.03) : sphere(0)}\n        position={[posApollo16.x,posApollo16.y,posApollo16.z]}\n      >\n        <meshBasicMaterial color={0xff0000}/>\n      </mesh>\n\n      <mesh\n        position={[posApollo16.x,posApollo16.y,posApollo16.z]}\n      >\n        <textGeometry attach='geometry' args={showAction==='apollo16' ? ['   <-- Apollo 16', textOptions] : ['', textOptions]}  />\n        <meshStandardMaterial attach='material' color={'white'} />\n      </mesh>\n\n      <mesh\n        geometry={showAction==='apollo17' ? sphere(0.03) : sphere(0)}\n        position={[posApollo17.x,posApollo17.y,posApollo17.z]}\n      >\n        <meshBasicMaterial color={0xff0000}/>\n      </mesh>\n\n      <mesh\n        position={[posApollo17.x,posApollo17.y,posApollo17.z]}\n      >\n        <textGeometry attach='geometry' args={showAction==='apollo17' ? ['   <-- Apollo 17', textOptions] : ['', textOptions]}  />\n        <meshStandardMaterial attach='material' color={'white'} />\n      </mesh>\n\n      <mesh\n        geometry={showAction==='artemis' ? sphere(0.03) : sphere(0)}\n        position={[posArtemis3.x,posArtemis3.y,posArtemis3.z]}\n      >\n        <meshBasicMaterial color={0x00ff00}/>\n      </mesh>\n\n      <mesh\n        position={[posArtemis3.x,posArtemis3.y,posArtemis3.z]}\n      >\n        <textGeometry attach='geometry' args={showAction==='artemis' ? ['   <-- Artemis 3', textOptions] : ['', textOptions]}  />\n        <meshStandardMaterial attach='material' color={'white'} />\n      </mesh>\n      {activeObject === 'mars' ? '' : <Ecliptic xRadius={xRadius} zRadius={zRadius}/>}\n    </>\n  );\n}\nexport default Moon;\n"]},"metadata":{},"sourceType":"module"}